<html>
  <head>
    <title>My A-Frame Scene</title>
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="../build.js"></script>
    <script>
      // to set specific time of video
      document.querySelector(
        "#Mary"
      ).components.material.data.src.currentTime = 0; // start of video

      // to play the videosphere
      document
        .querySelector("#Mary")
        .components.material.material.map.image.play();
    </script>
  </head>
  <body>
    <a-scene>
      <!--
      stereoscopic panoramic render by
      http://pedrofe.com/rendering-for-oculus-rift-with-arnold/
      http://www.meryproject.com/
 -->
      <!-- side by side equirectangular projected video -->
      <a-assets>
        <video
          src="textures/great-barrier-reef-scuba-diving-360-vr-multi-shot-SBV-318266249-preview.mp4"
          loop
          muted
          playsinline
          autoplay
          id="Mary"
        ></video>
      </a-assets>

      <a-videosphere src="#Mary"></a-videosphere>

      <!-- we tell here the camera to render (outside VR mode, in monoscopic mode) everything without the 'stereo' component active
      and it it's active, only render those entities in the 'left' eye -->

      <a-camera position="0 0 50" stereocam="eye:left;">
        <a-cursor color="black"></a-cursor>
      </a-camera>

      <!-- native sphere, will render on 'left' eye, and will take only the first half of the video for projection -->

      <a-entity
        geometry="primitive: sphere;
                      radius: 100;
                      segmentsWidth: 64;
                      segmentsHeight: 64;"
        material="shader: flat; src: #Mary; side:back;"
        scale="-1 1 1"
        stereo="eye:left;"
      >
      </a-entity>

      <!-- native sphere, will render on 'right' eye, and will take only the second half of the video for projection -->

      <a-entity
        geometry="primitive: sphere;
                      radius: 100;
                      segmentsWidth: 64;
                      segmentsHeight: 64;"
        material="shader: flat; src: #Mary; side:back;"
        scale="-1 1 1"
        stereo="eye:right;"
      >
      </a-entity>
    </a-scene>

    <a
      style="
        position: fixed;
        bottom: 20px;
        left: 20px;
        width: fit-content;
        background: white;
        color: black;
        text-decoration: none;
      "
      href="index.html"
    >
      360 to 180
    </a>
  </body>
</html>
